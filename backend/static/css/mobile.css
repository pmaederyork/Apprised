/**
 * Mobile Foundation Styles
 * Breakpoint detection, safe area support, and mobile state management.
 *
 * MOBILE BREAKPOINT: 500px
 * Change this value in mobile.js MOBILE_BREAKPOINT constant.
 * The JS sets body.is-mobile class, which most styles should use.
 * Media queries below use 500px/501px to match - update if breakpoint changes.
 */

/* Mobile CSS Variables */
:root {
  --mobile-sidebar-width: 80%;
  --mobile-header-height: 48px;
  --mobile-collapsed-chat-height: 44px;
  --keyboard-height: 0px;
}

/* ===== Mobile Body Class Styles ===== */
/* Applied by JavaScript when mobile detected (width < 500px) */
body.is-mobile {
  overflow: hidden; /* Prevent body scroll, app handles scroll */
}

body.is-mobile .sidebar {
  display: none; /* Hidden by default on mobile, shown via drawer */
}

body.is-mobile .hamburger-btn {
  display: flex; /* Show hamburger on mobile */
}

/* Desktop: Hamburger Hidden */
.hamburger-btn {
  display: none;
}

/* ===== Orientation-Specific Styles ===== */
body.is-mobile.is-portrait {
  /* Portrait-specific overrides in mobile-layout.css */
}

body.is-mobile.is-landscape {
  /* Landscape-specific overrides in mobile-layout.css */
}

/* ===== Mobile Viewport Constraints ===== */
/* These use media query because they affect html/body before JS runs */
body.is-mobile {
  /* Prevent iOS Safari bounce/overscroll effect */
  position: fixed;
  width: 100%;
  height: 100%;
}

body.is-mobile * {
  -webkit-tap-highlight-color: transparent;
}

body.is-mobile input,
body.is-mobile textarea {
  -webkit-touch-callout: default;
  -webkit-user-select: text;
  user-select: text;
}

/* Safe Area Insets - iOS notch and home indicator support */
body.is-mobile .app-container {
  padding-top: env(safe-area-inset-top, 0px);
  padding-bottom: env(safe-area-inset-bottom, 0px);
  padding-left: env(safe-area-inset-left, 0px);
  padding-right: env(safe-area-inset-right, 0px);
}

/* ===== Utility Classes ===== */
/* Hide on mobile */
.hide-mobile {
  display: block;
}

body.is-mobile .hide-mobile {
  display: none !important;
}

/* Show only on mobile */
.show-mobile {
  display: none;
}

body.is-mobile .show-mobile {
  display: block !important;
}
